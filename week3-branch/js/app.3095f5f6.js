(function(t){function e(e){for(var r,o,a=e[0],u=e[1],c=e[2],h=0,d=[];h<a.length;h++)o=a[h],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],r=!0,a=1;a<s.length;a++){var u=s[a];0!==n[u]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var r={},n={app:0},i=[];function o(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=r,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(s,r,function(e){return t[e]}.bind(null,r));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/hexschool/week3-branch/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=u;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),n=s("bc3a"),i=s.n(n),o=s("a7fe"),a=s.n(o),u=s("2ef0"),c=s.n(u),l=s("9955"),h=s.n(l),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"psychological"}},[s("div",{staticClass:"vld-parent"},[s("loading",{attrs:{active:t.loadingConfig.isLoading,"can-cancel":!1,opacity:1,"is-full-page":t.loadingConfig.fullPage},on:{"update:active":function(e){return t.$set(t.loadingConfig,"isLoading",e)}}})],1),t.questionNumber<0?s("div",{staticClass:"start-page fill-page",attrs:{id:"start"}},[s("h1",{staticClass:"w-50 mt-auto"},[t._v(t._s(t.title.zh))]),s("h2",{staticClass:"w-50"},[t._v(t._s(t.title.en))]),s("p",{staticClass:"w-50"},[t._v(t._s(t.description))]),s("div",{staticClass:"start-btn-block"},[s("button",{staticClass:"start",on:{click:function(e){return t.nextQuesion()}}},[t._v("開始測驗")])])]):t.questionNumber>=0&&t.questionNumber<10?s("div",{staticClass:"fill-page test-page"},[s("div",{staticClass:"number"},[t._v("Q"+t._s(t.questionNumber+1))]),s("h1",{staticClass:"quesion"},[t._v(t._s(t.currentQuestion.problem))]),t._l(t.currentQuestion.options,(function(e){return s("label",{key:e.id,staticClass:"check",attrs:{for:t.currentQuestion.id}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.problemCategorys[Math.floor(t.questionNumber/2)].score[t.questionNumber%2],expression:"problemCategorys[Math.floor(questionNumber/2)].score[questionNumber%2]"}],attrs:{type:"radio",name:t.currentQuestion.id},domProps:{value:e.fraction,checked:t._q(t.problemCategorys[Math.floor(t.questionNumber/2)].score[t.questionNumber%2],e.fraction)},on:{change:function(s){t.$set(t.problemCategorys[Math.floor(t.questionNumber/2)].score,t.questionNumber%2,e.fraction)}}}),t._v(t._s(t.captureStr(e.description,"。")+"。")),s("small",[t._v(t._s(" "+t.captureStr(e.description,"。","r")))])])})),s("div",{staticClass:"noChoiceMsg",class:{hide:t.hasChoice}},[t._v("尚未選擇答案唷")]),s("div",{staticClass:"btn"},[9!=t.questionNumber?s("button",{on:{click:function(e){return t.nextQuesion()}}},[t._v("下一題")]):s("button",{on:{click:t.countResult}},[t._v("看結果")])])],2):[s("div",{staticClass:"fill-page result-page"},[s("header",[s("h1",[t._v(t._s(t.getCategoryTextZh(t.currentResult.category)))]),s("h2",[t._v(t._s(t.currentResult.category))]),s("div",{staticClass:"score"},[t._v(t._s(t.currentResult.score.reduce((function(t,e){return t+e}),0)))]),s("div",{staticClass:"w-60"},[s("p",{staticClass:"detail"},[t._v(t._s(t.currentResult.description.desc))])])]),s("div",{staticClass:"w-80 result-content"},[s("div",{staticClass:"description",class:{highlight:t.resultCheck[t.resultIndex].high}},[t._m(0),t._v(t._s(t.currentResult.description.high))]),s("div",{staticClass:"description",class:{highlight:t.resultCheck[t.resultIndex].middle}},[t._m(1),t._v(t._s(t.currentResult.description.middle))]),s("div",{staticClass:"description",class:{highlight:t.resultCheck[t.resultIndex].low}},[t._m(2),t._v(t._s(t.currentResult.description.low))])]),s("div",{staticClass:"btn"},[t.resultIndex!=t.problemCategorys.length-1?s("button",{on:{click:function(e){return t.nextPage()}}},[t._v("下一頁")]):s("button",{on:{click:function(e){return t.nextPage("reset")}}},[t._v("再測一次")])])])]],2)},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"description-title"},[t._v("高"),s("small",[t._v("（≥ 7）")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"description-title"},[t._v("中"),s("small",[t._v(" (= 6)")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"description-title"},[t._v("低"),s("small",[t._v("（≤ 5）")])])}],f=(s("a4d3"),s("e01a"),s("7db0"),s("4160"),s("c975"),s("13d5"),s("b0c0"),s("b64b"),s("07ac"),s("159b"),s("5530")),b=s("2909"),g=s("9062"),v=s.n(g),m=(s("e40d"),{name:"psychological",components:{Loading:v.a},data:function(){return{loadingConfig:{isLoading:!1,fullPage:!0},title:[],description:"",problemCategorys:[],problemList:[],currentQuestion:{},questionNumber:-1,currentResult:{},resultIndex:-1,degree:{},traits:{},hasChoice:!0,resultCheck:[],showResult:!1}},created:function(){var t=this;this.loadingConfig.isLoading=!0,this.$http.get("https://raw.githubusercontent.com/hexschool/js-training-task/master/api/BigFive.json").then((function(e){t.title=e.data.name,t.description=e.data.description,t.degree=e.data.degree,t.traits=e.data.traits,t._.forEach(e.data.problemList,(function(e,s){t.problemCategorys.push({category:s,description:e.description,score:[0,0]}),e.problems.forEach((function(e){return t.problemList.push(e)}))})),t.loadingConfig.isLoading=!1}))},methods:{nextQuesion:function(){this.questionNumber<0?(this.questionNumber+=1,this.currentQuestion=this.problemList[this.questionNumber]):this.questionNumber>-1&&!this.problemCategorys[Math.floor(this.questionNumber/2)].score[this.questionNumber%2]?this.hasChoice=!1:(this.hasChoice=!0,this.questionNumber+=1,this.currentQuestion=this.problemList[this.questionNumber])},captureStr:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"l",r=t.indexOf(e),n="r"===s?r+1:0,i="r"===s?t.length:r;return r>-1?t.substring(n,i):t},countResult:function(){var t=this;this.resultCheck=[];var e=Object.keys(this.degree),s=Object.values(this.degree);this._.forEach(this.problemCategorys,(function(r){var n=r.score.reduce((function(t,e){return t+e}),0),i=n<=Math.min.apply(Math,Object(b["a"])(s))?t.findKey(t.degree,Math.min.apply(Math,Object(b["a"])(s))):t.findKey(t.degree,s[Math.floor(s.length/2)]),o=n>=Math.max.apply(Math,Object(b["a"])(s))?t.findKey(t.degree,Math.max.apply(Math,Object(b["a"])(s))):i,a=t.addCheckObject(e,o);t.resultCheck.push(a)})),this.questionNumber+=1,this.resultIndex+=1,this.currentResult=Object(f["a"])({},this.problemCategorys[this.resultIndex]),this.showResult=!0},findKey:function(t,e){return Object.keys(t).find((function(s){return t[s]===e}))},addCheckObject:function(t,e){var s={};return t.forEach((function(t){s[t]=t===e})),s},getCategoryTextZh:function(t){return this.traits.zh[this.traits.en.indexOf(t)]},nextPage:function(t){var e=this;"reset"!==t?(this.resultIndex+=1,this.currentResult=this.problemCategorys[this.resultIndex]):(this._.forEach(this.problemCategorys,(function(t,s){e.problemCategorys[s].score=[0,0]})),this.questionNumber=-1,this.resultIndex=-1)}}}),_=m,C=(s("cf25"),s("2877")),y=Object(C["a"])(_,d,p,!1,null,null,null),x=y.exports;r["a"].use(a.a,i.a),r["a"].use(h.a,{name:"custom",lodash:c.a}),r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(x)}}).$mount("#app")},cf25:function(t,e,s){"use strict";var r=s("fea6"),n=s.n(r);n.a},fea6:function(t,e,s){}});
//# sourceMappingURL=app.3095f5f6.js.map